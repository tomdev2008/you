$(function(){$(".travel").on("click",function(a){var c=$(this).siblings("input").val();c=trim(c);c=getJsParams(c);var b=$("input#travel_city").val();if(b==""){return;}if(c==""){location.href="/list_all_0_0_0_0_"+b+"_1.html";}else{location.href="/searcher?keyword="+encodeURIComponent(c)+"&type=0&city="+b+"&page=1";}});$("#go_page").on("click",function(b){b.preventDefault();var a=$("#page_num").val();if(trim(a)==""){return;}goToPage();});$("#page_num").on("keyup",function(c){var a=$("#page_num").val();if(trim(a)!=""){if(isNaN(parseInt(a,"10"))){$("#page_num").val(1);}else{$("#page_num").val(parseInt(a,"10"));}}else{return;}var b=document.all?window.event:c;if(b.keyCode==13){goToPage();}});$("#J_tab_inner .bt-youSearch").on("click",hotelSearch);$("#noteSearch .bt-youSearch").on("click",noteSearch);$("#trip_keyword").on("keyup",function(a){setTimeout(function(){var b=document.all?window.event:a;if(b.keyCode==13){$("#btn_strip").click();}},300);});$("#hotelKeyWord0").on("keyup",function(a){setTimeout(function(){var b=document.all?window.event:a;if(b.keyCode==13){$("#btYouSearch0").click();}},300);});$("#hotelKeyWord1").on("keyup",function(a){setTimeout(function(){var b=document.all?window.event:a;if(b.keyCode==13){$("#btYouSearch1").click();}},300);});$("#noteKeyWord").on("keyup",function(a){setTimeout(function(){var b=document.all?window.event:a;if(b.keyCode==13){noteSearch();}},300);});$(".you-start-city > a").on("click",function(c){var d=$("#travel_city").val();var a=$(this).html();var b="/searcher?keyword="+a+"&type=0&city="+d+"&page=1";location.href=b;});});function hotelSearch(){var g=$("#hidden_city1").val();var h=$("#hidden_level1").val();var f=$("#hotelStart1").val();var d=$("#hotelEnd1").val();var a=$("#hotelKeyWord1").val();var c=0;if($(this).attr("id")=="btYouSearch0"){g=$("#hidden_city0").val();h=$("#hidden_level0").val();f=$("#hotelStart0").val();d=$("#hotelEnd0").val();a=$("#hotelKeyWord0").val();}else{c=1;if(trim(g)==""){alert("提示:请选择目的地!");return;}}if(trim(g)!=""||trim(a)!=""){a=encodeURI(a);var e="/searcher?keyword="+a+"&type=1&city="+g+"&hs="+f+"&he="+d+"&hl="+h+"&hw="+c+"&page=1";var b=$("#rootPath").val()+e;location.href=b;}}function noteSearch(){var a=$("#noteKeyWord").val();var d=$("#hidden_city0").val();if(trim(a)!=""){a=encodeURI(a);var c="/searcher?keyword="+a+"&type=2&city="+d+"&page=1";var b=$("#rootPath").val()+c;location.href=b;}}function goToPage(){var c=parseInt($("#page_num").val());var a=$("#pager_text").val();var b=parseInt($("#totalPage").val());if(b<c){return;}if(a.indexOf("list")!=-1){a=a+c+".html";}else{a=a+c;}location.href=a;}function trim(c){var b=/^\s*|\s*$/g;var a=c.replace(b,"");return a;}function getJsParams(d){var a=/[']/g;var b=d.replace(a,"\\'");b=b.replace(/\&/g,"&amp;");var a=/["]/g;var c=b.replace(a,"&quot;");return c;}