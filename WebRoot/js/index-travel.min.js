$(function(){$(".floor-you-trip ul.fl a").on("click",function(e){e.preventDefault();var cityId=$(this).attr("data-city");var type=$(".floor-you-trip div.fr a.current").attr("data-type");if(undefined!=cityId&&type!=undefined){$(this).parents("ul").find(".current").removeClass();var $par=$(this).parent();$par.removeClass();$par.addClass("current");indexPostAjax("/index-travel.html",type,cityId,"travel");}else{location.href=$(this).attr("href");}});$(".floor-you-trip div.fr a").on("click",function(e){e.preventDefault();var cityId=$(".floor-you-trip ul.fl li.current a").attr("data-city");var type=$(this).attr("data-type");if(undefined!=cityId&&type!=undefined){$(this).parents("div.fr").find(".current").removeClass();$(this).removeClass();$(this).addClass("current");indexPostAjax("/index-travel.html",type,cityId,"travel");}else{location.href=$(this).attr("href");}});$(".floor-you-hotel ul.fl a").on("click",function(e){e.preventDefault();var cityId=$(this).attr("data-city");if(undefined!=cityId){$(this).parents("ul").find(".current").removeClass();var $par=$(this).parent();$par.removeClass();$par.addClass("current");indexPostAjax("/index-hotel.html","",cityId,"hotel");}else{location.href=$(this).attr("href");}});var indexPostAjax=function(url,type,cityId,post){$.ajax({url:url,type:"post",dataType:"json",data:{selectedCityId:cityId,ajaxType:type}}).done(function(data){if(post=="hotel"){$(".hotel-list").empty();var obj=eval(data.all);$.each(obj,function(i,n){$(".hotel-list").append(hotelTag(n));});}else{$(".trip-list").empty();var obj=eval(data.all);$.each(obj,function(i,n){$(".trip-list").append(travelTag(n));});}});};});function indexHotCity(){var a="/indexHotCity.html";var b='<ul class="cfx">';$.ajax({url:a,type:"post",dataType:"json",}).done(function(c){$.each(c,function(f,g){var e="";if(f%5==0&&f>0){e='class="last"';}var d=" <li "+e+"> "+'<a target="_blank" href="'+g.cityUrl+'">'+'<img src="'+g.imageUrl+'" alt="" title="" width="131" height="131" onerror="this.src=http://localhost:8080/images/you/120x76.jpg"/>'+'<span class="c1">'+g.cityName+"</span>"+"</a>"+"</li>";b=b+d;});$(".you-hot-city").html(b);});}function indexHotType(){var a="/indexHotType.html";var b="";$.ajax({url:a,type:"post",dataType:"json",}).done(function(c){$.each(c,function(f,g){var e="";if(f==0){e='class="fl"';}else{e='class="fr"';}var d='<a target="_blank" href="'+g.cityUrl+'" '+e+">"+'<img src="'+g.imageUrl+'" alt="" title=""  onerror="this.src=http://localhost:8080/images/you/120x76.jpg"/>'+'<span class="c-pink">'+g.cityName+"</span></a>";b=b+d;});$("#you-hot-type-div").html(b);});}var travelTag=function(a){return'<li><a href="/detail_0_'+a.id+'.html" target="_blank"><img src="'+a.imgurl+'" alt="" title="" width="171" height="108" onerror="this.src=\'../images/you/120x76.jpg\';"/><span><i class="iprice">￥'+a.salesPrice+'</i></span></a><p><a href="/detail_0_'+a.id+'.html" target="_blank">'+a.name+"</a></p></li>";};var hotelTag=function(a){return'<li><a href="/detail_1_'+a.id+'.html" class="hotel-img fl" target="_blank"><img src="'+a.imgurl+'" alt="" title="" width="120" height="76" onerror="this.src=\'../images/you/120x76.jpg\';"/></a><div class="hotel-info fr"><h6><a href="/detail_1_'+a.id+'.html" target="_blank">'+a.name+'</a></h6><p class="hotel-star"><i class="star"><i class="star-inner" style="width:'+a.levelInfo*20+'%;"></i></i></p><p class="hotel-address"><a href="/detail_1_'+a.id+'.html" target="_blank">'+a.district+'</a></p><span class="pos-price">￥<em>'+a.salesPrice+"</em>起</span></div></li>";};